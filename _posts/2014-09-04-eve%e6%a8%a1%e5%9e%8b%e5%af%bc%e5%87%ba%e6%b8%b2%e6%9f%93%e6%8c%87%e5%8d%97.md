---
title: EVE模型导出渲染指南
author: ahxxm
layout: post
permalink: /40.moew
categories:
  - 不要问我为什么写这个
---
去年底的文章，当时EVE好友想做视频，需要导出模型。

不过后来视频好像黄了……

效果图在底部。

<!--more-->

<div>
  <div>
    本文相当于操作笔记，不讲原理，只说步骤，如有不懂的地方，参考文献有两篇：
  </div>
  
  <div>
    [1]: <a href="http://bbs.ngacn.cc/read.php?tid=6129126">http://bbs.ngacn.cc/read.php?tid=6129126</a>
  </div>
  
  <div>
    [2]: <a href="http://wiki.eveuniversity.org/Rendering_EVE_Models_101">http://wiki.eveuniversity.org/Rendering_EVE_Models_101</a>
  </div>
  
  <div>
    还有个视频：
  </div>
  
  <div>
    <a href="http://www.youtube.com/watch?v=Pw18CzYzJvg">http://www.youtube.com/watch?v=Pw18CzYzJvg</a>
  </div>
  
  <div>
    看youtube不方便的可以点这里：<a href="http://www.tudou.com/programs/view/DJeXH0rnYcg/">http://www.tudou.com/programs/view/DJeXH0rnYcg/</a>
  </div>
  
  <div>
    英文不好的去练听力。
  </div>
  
  <div>
    工具有三个：
  </div>
  
  <div>
    Blender  <a href="http://www.blender.org/download">http://www.blender.org/download</a><br /> TriExporter 2009  <a href="http://dl.eve-files.com/media/corp/Xabora/TriExporter_2009.zip">http://dl.eve-files.com/media/corp/Xabora/TriExporter_2009.zip</a> （这是网页不是下载链接）<br /> GIMP  <a href="http://www.gimp.org/downloads/">http://www.gimp.org/downloads/</a> 及dds插件 <a href="https://code.google.com/p/gimp-dds/downloads/list">https://code.google.com/p/gimp-dds/downloads/list</a>
  </div>
  
  <div>
  </div>
  
  <div>
    废话不多说——
  </div>
  
  <div>
  </div>
  
  <div>
    一、模型导出[1]
  </div>
  
  <div>
    打开TriExporter 2009，File->Set EVE Floder，选择EVE目录，即eve.exe所在目录，例如C:\Program Files\EVE，<br /> 船的模型文件在res/dx9/ship/目录下，以amarr bc1为例，导出res/dx9/ship/amarr/battlecruiser/abc1下所有的文件， 该目录下包括了以abc1为船体的各种变种，在这里只关心bc1，需要的dx贴图文件为<br /> abc1_t1_d.dds<br /> abc1_t1_n.dds<br /> abc1_t1_pgs.dds<br /> 导出模型，在TriExporter 2009中双击abc1_t1.gr2会选中并显示该模型，选中后File->Export Tri-Model，保存类型选.3ds，<br /> 导出.black，打开Black2Json将由TriExporter导出的.black拖到程序窗口，会在同一目录生成.json文本文件。
  </div>
  
  <div>
  </div>
  
  <div>
    二、贴图文件
  </div>
  
  <div>
    1. _d.dds
  </div>
  
  <div>
    用GIMP打开，color->components->decompose，选RGBA，点击右栏眼睛开关channels——<br /> 关掉alpha，把剩下三个channel导出（export to）为diffuse.png，然后把alpha导出为lights.png。
  </div>
  
  <div>
    2. _pgs.dds
  </div>
  
  <div>
    green channel导出为specular.png。
  </div>
  
  <div>
    color->components->compose，RGB，合成后导出整个为reflection.png。
  </div>
  
  <div>
  </div>
  
  <div>
    3. _n.pgs
  </div>
  
  <div>
    RGBA decompose，再compose，此时red green blue分别是：green、alpha和mask value 255，视频说合成后是蓝色的图就对了，不过文1截图证明合成后颜色奇怪就对了，最后导出为normal.png。
  </div>
  
  <div>
    [此处操作和视频略有出入，mask value和文1也略有出入，不过效果相同，以下是看视频时写的笔记作为参考]：
  </div>
  
  <div>
    video: ngs, p<br /> now: pgs, n
  </div>
  
  <div>
    red green blue alpha<br /> ngs: sub-mask(black) normalX specular normalY<br /> p: null null null mask
  </div>
  
  <div>
    export specular -> specular.png<br /> RGB compose -> red:normalX, green:normalY, blue:mask 255 -> blue pic -> normal.png<br /> p -> reflections.pngnow<br /> pgs: reflection1 specular reflection2 null<br /> export specular.png<br /> compose and export reflection.png</p> 
    
    <p>
      n:null normalX null normalY<br /> compose and export normal.png]
    </p>
    
    <p>
      三、Blender<br /> 1.准备工作（没图说个）
    </p>
  </div>
  
  <div>
    右键选中初始立方体，del，然后点一下删掉它。
  </div>
  
  <div>
    file->import，选3ds文件导出模型，以Incursus为例，因为它长得比较像 o/ 。
  </div>
  
  <div>
    选中，r x 90+Enter，绕x轴旋转90度，按S调整大小。
  </div>
  
  <div>
    tab进入编辑模式，Alt+J 将三角面转为四边面，然后Ctrl+V，Remove Doubles去除过于接近的顶点。
  </div>
  
  <div>
    左侧T key Panel->Object Tools->Shading->Smooth 平滑着色
  </div>
  
  <div>
    <img class="alignnone" src="https://ahxxmedia.s3.amazonaws.com/Blender-EVE/1.png" alt="" width="143" height="270" />
  </div>
  
  <div>
    <div>
      右侧N key panel->display->shading改成GLSL
    </div>
    
    <div>
      <img class="alignnone" src="https://ahxxmedia.s3.amazonaws.com/Blender-EVE/2.png" alt="" width="159" height="267" />
    </div>
    
    <div>
      <div>
        左下Object mode/Edit mode旁边有个按钮，Shading从Rendered改成Texture。
      </div>
      
      <div>
        <img class="alignnone" src="https://ahxxmedia.s3.amazonaws.com/Blender-EVE/3.png" alt="" width="481" height="168" />
      </div>
      
      <div>
        <div>
          选中，右边有个material tab，点进去，新增Incursus，删掉原来的，然后tab进入编辑模式，a选中所有，点assign。
        </div>
        
        <div>
          <img class="alignnone" src="https://ahxxmedia.s3.amazonaws.com/Blender-EVE/4.png" alt="" width="346" height="284" />
        </div>
        
        <div>
          <div>
            2.材质！ （参数设置的原则就俩个字：好看，所以在能看的基础上随意调整吧。）
          </div>
          
          <div>
            <img class="alignnone" src="https://ahxxmedia.s3.amazonaws.com/Blender-EVE/5.png" alt="" width="346" height="236" />
          </div>
          
          <div>
            <div>
              2.1 diffuse
            </div>
            
            <div>
              <div>
                点New，改名为diffuse，type改成Image/Moview，然后open diffuse.png。
              </div>
              
              <div>
                Mapping->Coordinates:UV, Map:UVMap
              </div>
              
              <div>
                Influence-> Diffuse-> Color:on
              </div>
              
              <div>
                             -> Geometry->Normal:on
              </div>
              
              <div>
                             -> Specular -> Hardness:on （可选）
              </div>
              
              <div>
                <img class="alignnone" src="https://ahxxmedia.s3.amazonaws.com/Blender-EVE/6.png" alt="" width="407" height="199" />
              </div>
              
              <div>
                <div>
                  <div>
                    这里进入UV Editing，tab+a选中，左边N key Panel->Display，点Normalized，下面的Cursor Location中x=0.5 y=0.5 ，然后S,Y,-1+Enter 将UV坐标沿X轴翻转。
                  </div>
                  
                  <div>
                    以下简写
                  </div>
                  
                  <div>
                    3.2 normal
                  </div>
                  
                  <div>
                    type, open, Coordiantes -> UV<br /> sampling->normal map:on<br /> influence->color:off, geometry normal:on<br /> 3.3 specular<br /> UV<br /> diffuse->color off<br /> specular inte on<br /> blend multiply<br /> rgb to intensity:111<br /> 3.4 lights<br /> uv<br /> blend add<br /> RGB 111<br /> 3.5 reflect<br /> color:off
                  </div>
                  
                  <p>
                    ray mirror:on<br /> multiply<br /> rgb 111
                  </p>
                  
                  <p>
                    4. world tab
                  </p>
                  
                  <div>
                    设置填空背景
                  </div>
                  
                  <div>
                    horizon:black zenith:white blend sky5.lamp<br /> 选中camera，进入lamp tab设置灯光，黄色+energy3就是空间站效果了。</p>
                  </div>
                  
                  <div>
                  </div>
                  
                  <div>
                    最后附上两个效果图，我不知道灯光应该丢哪儿 > <：
                  </div>
                  
                  <div>
                    [Incursus: o/]
                  </div>
                  
                  <div>
                    <img class="alignnone" src="https://ahxxmedia.s3.amazonaws.com/Blender-EVE/incursus1.png" alt="" width="1920" height="1080" />
                  </div>
                  
                  <div>
                    <img class="alignnone" src="https://ahxxmedia.s3.amazonaws.com/Blender-EVE/incursus2.png" alt="" width="1920" height="1080" />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>